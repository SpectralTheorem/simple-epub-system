=== Troubleshooting Log ===


=== Server Process Info ===
matthewburtell   34915  28.4  0.1 410896848  25008   ??  S     9:56PM   0:03.41 /Users/matthewburtell/.pyenv/versions/3.12.7/bin/python3.12 /Users/matthewburtell/.pyenv/versions/3.12.7/bin/uvicorn app.main:app --reload --log-level debug

=== Application Logs ===
                        COUNT(c.id) as chapter_count
                    FROM documents d
                    LEFT JOIN chapters c ON d.id = c.document_id
                    GROUP BY d.id, d.title, d.author, d.format, d.doc_metadata, d.processing_status, d.error_message, d.created_at, d.updated_at
                    ORDER BY d.created_at DESC 
                    LIMIT ? OFFSET ?
                
2024-12-28 21:48:25,969 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] (10, 0)
2024-12-28 21:48:25,969 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x16906bb50>)
2024-12-28 21:48:25,969 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x16906bb50>) completed
2024-12-28 21:48:25,969 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x1690bc140>, '\n                    SELECT \n                        d.id,\n                        d.title,\n                        d.author,\n                        d.format,\n                        d.doc_metadata as doc_metadata,\n                        d.processing_status,\n                        d.error_message,\n                        d.created_at,\n                        d.updated_at,\n                        COUNT(c.id) as chapter_count\n                    FROM documents d\n                    LEFT JOIN chapters c ON d.id = c.document_id\n                    GROUP BY d.id, d.title, d.author, d.format, d.doc_metadata, d.processing_status, d.error_message, d.created_at, d.updated_at\n                    ORDER BY d.created_at DESC \n                    LIMIT ? OFFSET ?\n                ', (10, 0))
2024-12-28 21:48:25,970 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x1690bc140>, '\n                    SELECT \n                        d.id,\n                        d.title,\n                        d.author,\n                        d.format,\n                        d.doc_metadata as doc_metadata,\n                        d.processing_status,\n                        d.error_message,\n                        d.created_at,\n                        d.updated_at,\n                        COUNT(c.id) as chapter_count\n                    FROM documents d\n                    LEFT JOIN chapters c ON d.id = c.document_id\n                    GROUP BY d.id, d.title, d.author, d.format, d.doc_metadata, d.processing_status, d.error_message, d.created_at, d.updated_at\n                    ORDER BY d.created_at DESC \n                    LIMIT ? OFFSET ?\n                ', (10, 0)) completed
2024-12-28 21:48:25,970 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x1690bc140>)
2024-12-28 21:48:25,970 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x1690bc140>) completed
2024-12-28 21:48:25,970 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x1690bc140>)
2024-12-28 21:48:25,970 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x1690bc140>) completed
2024-12-28 21:48:25,970 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-28 21:48:25,971 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x16906bb50>)
2024-12-28 21:48:25,971 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x16906bb50>) completed
2024-12-28 21:48:25,971 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x16906bb50>)
2024-12-28 21:48:25,971 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x16906bb50>) completed
2024-12-28 21:48:25,971 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x16906bb50>)
2024-12-28 21:48:25,971 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x16906bb50>) completed
2024-12-28 21:48:25,972 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x16909efc0>
2024-12-28 21:48:25,972 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x16909efc0> completed
2024-12-28 21:48:25,972 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x16906b970>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x169053ba0>, deterministic=True)
2024-12-28 21:48:25,973 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x16906b970>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x169053ba0>, deterministic=True) completed
2024-12-28 21:48:25,973 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x16906b970>, 'floor', 1, <built-in function floor>, deterministic=True)
2024-12-28 21:48:25,973 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x16906b970>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2024-12-28 21:48:25,973 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-28 21:48:25,973 - sqlalchemy.engine.Engine - INFO - SELECT COUNT(*) FROM documents
2024-12-28 21:48:25,973 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ()
2024-12-28 21:48:25,973 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x16906b970>)
2024-12-28 21:48:25,973 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x16906b970>) completed
2024-12-28 21:48:25,973 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x1690bc140>, 'SELECT COUNT(*) FROM documents', ())
2024-12-28 21:48:25,973 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x1690bc140>, 'SELECT COUNT(*) FROM documents', ()) completed
2024-12-28 21:48:25,974 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x1690bc140>)
2024-12-28 21:48:25,974 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x1690bc140>) completed
2024-12-28 21:48:25,974 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x1690bc140>)
2024-12-28 21:48:25,974 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x1690bc140>) completed
2024-12-28 21:48:25,974 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-28 21:48:25,974 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x16906b970>)
2024-12-28 21:48:25,974 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x16906b970>) completed
2024-12-28 21:48:25,974 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x16906b970>)
2024-12-28 21:48:25,974 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x16906b970>) completed
2024-12-28 21:48:25,974 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x16906b970>)
2024-12-28 21:48:25,975 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x16906b970>) completed
2024-12-28 21:49:37,935 - app.main - INFO - Application starting, logging to /Users/matthewburtell/projects/book reader/app.log
2024-12-28 21:49:45,477 - app.main - INFO - Application starting, logging to /Users/matthewburtell/projects/book reader/app.log
2024-12-28 21:56:55,323 - app.main - INFO - Application starting, logging to /Users/matthewburtell/projects/book reader/app.log


=== Clearing Database ===
Clear DB Response: 200
Response: {'documents_deleted': 1, 'chapters_deleted': 0}

=== Uploading File ===
Upload Response: 200
Response: {
  "status": "processing",
  "progress": 0.0,
  "message": "Processing started for document doc_20241229_nixonland__the_rise_of_a_presi_4ebb5b"
}

Extracted Document ID: doc_20241229_nixonland__the_rise_of_a_presi_4ebb5b

=== Checking Processing Status ===

Status Check 1/10
Status Response: 200
Response: {
  "status": "completed",
  "progress": 100.0,
  "message": null
}

=== Getting Document Details ===
Document Details Response: 200
Response: {
  "id": "doc_20241229_nixonland__the_rise_of_a_presi_4ebb5b",
  "title": "Nixonland",
  "author": "Rick Perlstein",
  "format": "epub",
  "doc_metadata": null,
  "processing_status": "completed",
  "error_message": null,
  "created_at": "2024-12-29T02:57:05.391130",
  "updated_at": "2024-12-29T02:57:05.391133",
  "chapter_count": 0
}
